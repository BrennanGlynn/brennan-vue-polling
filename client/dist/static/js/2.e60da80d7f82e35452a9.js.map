{"version":3,"sources":["webpack:///static/js/2.e60da80d7f82e35452a9.js","webpack:///./client/src/view/MyPolls.vue","webpack:///./client/src/locales/polls/en.js","webpack:///./client/src/locales/polls/index.js","webpack:///./client/src/locales/polls/zh-CN.js","webpack:///PollResults.vue?cedf","webpack:///./client/src/components/PollResults.vue?0299*","webpack:///./client/src/components/PollResults.vue?6ef0*","webpack:///./client/src/components/PollResults.vue","webpack:///./client/src/components/PollResults.vue?0d22*","webpack:///MyPolls.vue","webpack:///./client/src/view/MyPolls.vue?2fe3","webpack:///./client/src/view/MyPolls.vue?5d4e","webpack:///./client/src/view/MyPolls.vue?e144"],"names":["webpackJsonp","333","module","exports","__webpack_require__","Component","339","Object","defineProperty","value","default","polls","breadcrumb","home","current","model","name","rules","author","options","edit","create","update","addOption","340","_interopRequireDefault","obj","__esModule","_en","_en2","_zhCN","_zhCN2","zh-CN","en","341","thing","description","342","_extends2","_extends3","_vuex","computed","mapGetters","data","hasVoted","methods","isOwner","poll","this","username","hasVotedFor","option","votes","indexOf","loggedIn","percentage","totalVotes","percent","length","Number","toFixed","props","343","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","344","content","locals","345","346","render","_vm","_h","$createElement","_c","_self","attrs","xs","sm","md","span","offset","lg","staticClass","class","ownPoll","slot","type","on","click","$event","$router","_id","_v","_s","undefined","deletePoll","userRole","_e","editPoll","_l","show-text","stroke-width","status","size","_t","disabled","staticRenderFns","365","_assign","_assign2","_resources","_polls","_polls2","_PollResults","_PollResults2","locales","formVisible","form","required","message","$t","trigger","components","PollResults","fetch","_this","query","then","response","json","results","filter","_this2","$confirm","delete","$message","catch","cancelForm","saveForm","_this3","$refs","validate","valid","promise","save","removeOption","index","splice","created","376","386","402","key","title","callback","$$v","expression","ref","label","prop","icon","preventDefault","nativeOn"],"mappings":"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","file":"static/js/2.e60da80d7f82e35452a9.js","sourcesContent":["webpackJsonp([2],{\n\n/***/ 333:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(386)\n\nvar Component = __webpack_require__(21)(\n  /* script */\n  __webpack_require__(365),\n  /* template */\n  __webpack_require__(402),\n  /* scopeId */\n  \"data-v-0b353a4a\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 339:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  polls: {\n    breadcrumb: {\n      home: 'Home',\n      current: 'Polls'\n    },\n    model: {\n      name: 'Title'\n    },\n    rules: {\n      name: 'Please input a name for your poll',\n      author: 'Please input a name for yourself',\n      options: 'Please select an option'\n    },\n    edit: {\n      create: 'Add Poll',\n      update: 'Change Poll',\n      addOption: 'add an option'\n    }\n  }\n};\n\n/***/ }),\n\n/***/ 340:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _en = __webpack_require__(339);\n\nvar _en2 = _interopRequireDefault(_en);\n\nvar _zhCN = __webpack_require__(341);\n\nvar _zhCN2 = _interopRequireDefault(_zhCN);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  'zh-CN': _zhCN2.default,\n  en: _en2.default\n};\n\n/***/ }),\n\n/***/ 341:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  thing: {\n    breadcrumb: {\n      home: '首页',\n      current: '事件管理'\n    },\n    model: {\n      name: '名字',\n      description: '描述'\n    },\n    rules: {\n      name: '请输入名称'\n    },\n    edit: {\n      create: '新增事件',\n      update: '编辑事件'\n    }\n  }\n};\n\n/***/ }),\n\n/***/ 342:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = __webpack_require__(29);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _vuex = __webpack_require__(41);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  computed: (0, _extends3.default)({}, (0, _vuex.mapGetters)(['username', 'userRole', 'loggedIn'])),\n  data: function data() {\n    return {\n      hasVoted: false\n    };\n  },\n  methods: {\n    isOwner: function isOwner(poll) {\n      return poll.author === this.username;\n    },\n    hasVotedFor: function hasVotedFor(option) {\n      if (option.votes.indexOf(this.username) > -1 && this.loggedIn) {\n        this.hasVoted = true;\n        return true;\n      }\n    },\n    percentage: function percentage(option, poll) {\n      if (poll.totalVotes) {\n        var percent = option.votes.length / poll.totalVotes * 100;\n        return Number(percent.toFixed(0));\n      } else return 0;\n    }\n  },\n  props: ['poll', 'editPoll', 'deletePoll', 'addOption']\n};\n\n/***/ }),\n\n/***/ 343:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(329)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".item[data-v-4939157b]{padding:5px 0}.box-card[data-v-4939157b]{min-height:27em;margin:1rem}.box-card .icon[data-v-4939157b]{float:right;margin-left:.5rem;cursor:pointer;font-size:16px;color:#0cb4e8}.box-card .icon[data-v-4939157b]:hover{color:#20a0ff}.box-card .header[data-v-4939157b]{color:#0cb4e8;float:left}.ownPoll[data-v-4939157b]{border:2px solid #13ce66}.bottom-button[data-v-4939157b]{margin:1rem}\", \"\", {\"version\":3,\"sources\":[\"C:/Users/brenn/WebstormProjects/brennan-vue/client/src/components/PollResults.vue\"],\"names\":[],\"mappings\":\"AACA,uBACE,aAAe,CAChB,AACD,2BACE,gBAAiB,AACjB,WAAa,CACd,AACD,iCACE,YAAa,AACb,kBAAoB,AACpB,eAAgB,AAChB,eAAgB,AAChB,aAAe,CAChB,AACD,uCACE,aAAe,CAChB,AACD,mCACE,cAAe,AACf,UAAY,CACb,AACD,0BACE,wBAA0B,CAC3B,AACD,gCACE,WAAa,CACd\",\"file\":\"PollResults.vue\",\"sourcesContent\":[\"\\n.item[data-v-4939157b] {\\n  padding: 5px 0;\\n}\\n.box-card[data-v-4939157b] {\\n  min-height: 27em;\\n  margin: 1rem;\\n}\\n.box-card .icon[data-v-4939157b] {\\n  float: right;\\n  margin-left: 0.5rem;\\n  cursor: pointer;\\n  font-size: 16px;\\n  color: #0cb4e8;\\n}\\n.box-card .icon[data-v-4939157b]:hover {\\n  color: #20a0ff;\\n}\\n.box-card .header[data-v-4939157b] {\\n  color: #0cb4e8;\\n  float: left;\\n}\\n.ownPoll[data-v-4939157b] {\\n  border: 2px solid #13ce66;\\n}\\n.bottom-button[data-v-4939157b] {\\n  margin: 1rem;\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 344:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(343);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(330)(\"78e242b2\", content, true);\n\n/***/ }),\n\n/***/ 345:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(344)\n\nvar Component = __webpack_require__(21)(\n  /* script */\n  __webpack_require__(342),\n  /* template */\n  __webpack_require__(346),\n  /* scopeId */\n  \"data-v-4939157b\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 346:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('el-row', [_c('el-col', {\n    attrs: {\n      \"xs\": 24,\n      \"sm\": 24,\n      \"md\": {\n        span: 12,\n        offset: 6\n      },\n      \"lg\": {\n        span: 12,\n        offset: 6\n      }\n    }\n  }, [_c('el-card', {\n    staticClass: \"box-card\",\n    class: {\n      ownPoll: _vm.isOwner(_vm.poll)\n    }\n  }, [_c('div', {\n    staticClass: \"clearfix\",\n    slot: \"header\"\n  }, [_c('el-row', [_c('el-col', {\n    attrs: {\n      \"span\": 22,\n      \"offset\": 1\n    }\n  }, [_c('el-button', {\n    staticClass: \"header\",\n    attrs: {\n      \"type\": \"text\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.$router.push('/polls/' + _vm.poll._id)\n      }\n    }\n  }, [_vm._v(_vm._s(_vm.poll.name))]), _vm._v(\" \"), (_vm.deletePoll !== undefined && _vm.isOwner(_vm.poll) || _vm.userRole === 'admin') ? _c('i', {\n    staticClass: \"el-icon-delete icon\",\n    on: {\n      \"click\": function($event) {\n        _vm.deletePoll(_vm.poll)\n      }\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.editPoll !== undefined && _vm.isOwner(_vm.poll) || _vm.userRole === 'admin') ? _c('i', {\n    staticClass: \"el-icon-edit icon\",\n    on: {\n      \"click\": function($event) {\n        _vm.editPoll(_vm.poll)\n      }\n    }\n  }) : _vm._e()], 1)], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"body\"\n  }, [_vm._l((_vm.poll.options), function(option) {\n    return _c('div', {\n      staticClass: \"options\"\n    }, [_c('el-row', [_c('el-col', {\n      attrs: {\n        \"span\": 22,\n        \"offset\": 1\n      }\n    }, [_vm._v(\"\\n                \" + _vm._s(option.option) + \" - \" + _vm._s(option.votes.length) + \" Votes \"), (_vm.hasVotedFor(option)) ? _c('i', {\n      staticClass: \"el-icon-circle-check\"\n    }) : _vm._e()])], 1), _vm._v(\" \"), _c('el-row', [_c('el-col', {\n      attrs: {\n        \"span\": 20,\n        \"offset\": 1\n      }\n    }, [(_vm.hasVotedFor(option)) ? _c('el-progress', {\n      staticClass: \"progress\",\n      attrs: {\n        \"show-text\": false,\n        \"stroke-width\": 20,\n        \"percentage\": _vm.percentage(option, _vm.poll),\n        \"status\": \"success\"\n      }\n    }) : _c('el-progress', {\n      staticClass: \"progress\",\n      attrs: {\n        \"show-text\": false,\n        \"stroke-width\": 20,\n        \"percentage\": _vm.percentage(option, _vm.poll)\n      }\n    })], 1), _vm._v(\" \"), _c('el-col', {\n      attrs: {\n        \"span\": 1,\n        \"offset\": 1\n      }\n    }, [_vm._v(\"\\n                \" + _vm._s(' ' + _vm.percentage(option, _vm.poll) + '%') + \"\\n              \")])], 1)], 1)\n  }), _vm._v(\" \"), _c('el-row', [(_vm.addOption) ? _c('el-col', {\n    attrs: {\n      \"span\": 22,\n      \"offset\": 1\n    }\n  }, [_c('el-button', {\n    staticClass: \"bottom-button\",\n    attrs: {\n      \"size\": \"small\"\n    },\n    on: {\n      \"click\": _vm.addOption\n    }\n  }, [_vm._v(\"Add an Option\")])], 1) : _vm._e(), _vm._v(\" \"), _c('el-col', {\n    staticClass: \"footer\",\n    attrs: {\n      \"span\": 22,\n      \"offset\": 1\n    }\n  }, [_vm._v(\"\\n              \" + _vm._s(_vm.poll.totalVotes || 0) + \" Total Votes\\n              \"), _c('h3', [_vm._v(\"Poll by \" + _vm._s(_vm.poll.author))])])], 1)], 2), _vm._v(\" \"), _c('el-row', [_c('el-col', {\n    attrs: {\n      \"span\": 22,\n      \"offset\": 1\n    }\n  }, [_vm._t(\"default\", [(_vm.hasVoted) ? _c('el-button', {\n    attrs: {\n      \"size\": \"small\",\n      \"type\": \"primary\",\n      \"disabled\": \"\"\n    }\n  }, [_vm._v(\"Vote\")]) : _c('el-button', {\n    attrs: {\n      \"size\": \"small\",\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.$router.push('/polls/' + _vm.poll._id)\n      }\n    }\n  }, [_vm._v(\"Vote\")])])], 2)], 1)], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 365:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _assign = __webpack_require__(112);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _extends2 = __webpack_require__(29);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _vuex = __webpack_require__(41);\n\nvar _resources = __webpack_require__(111);\n\nvar _polls = __webpack_require__(340);\n\nvar _polls2 = _interopRequireDefault(_polls);\n\nvar _PollResults = __webpack_require__(345);\n\nvar _PollResults2 = _interopRequireDefault(_PollResults);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  locales: _polls2.default,\n  data: function data() {\n    return {\n      polls: [],\n      formVisible: false,\n      form: {\n        name: '',\n        options: [{ option: '', votes: [] }, { option: '', votes: [] }]\n      },\n      rules: {\n        name: [{ required: true, message: this.$t('polls.rules.name'), trigger: 'blur' }],\n        options: [{ type: 'array', required: true, message: this.$t('polls.rules.options'), trigger: 'change' }]\n      }\n    };\n  },\n  components: {\n    PollResults: _PollResults2.default\n  },\n  computed: (0, _extends3.default)({}, (0, _vuex.mapGetters)(['username'])),\n  methods: {\n    fetch: function fetch() {\n      var _this = this;\n\n      _resources.poll.query({}, [this.username]).then(function (response) {\n        response.json().then(function (response) {\n          _this.polls = response.results.filter(function (poll) {\n            return poll.author === _this.username;\n          });\n        });\n      });\n    },\n    editPoll: function editPoll(poll) {\n      (0, _assign2.default)(this.form, poll);\n      this.formVisible = true;\n    },\n    deletePoll: function deletePoll(poll) {\n      var _this2 = this;\n\n      this.$confirm('This action will remove the selected poll: ' + poll.name + ' Do you still want to continue?', this.$t('confirm.title'), {\n        type: 'warning'\n      }).then(function () {\n        _resources.poll.delete({ _id: poll._id }).then(function () {\n          _this2.$message({\n            type: 'success',\n            message: _this2.$t('message.removed')\n          });\n          _this2.fetch();\n        });\n      }).catch(function () {});\n    },\n    cancelForm: function cancelForm() {\n      this.form._id = undefined;\n      this.form.name = '';\n      this.form.options = [{ option: '', votes: [] }, { option: '', votes: [] }];\n      this.formVisible = false;\n    },\n    saveForm: function saveForm() {\n      var _this3 = this;\n\n      this.$refs.poll.validate(function (valid) {\n        if (valid) {\n          var promise = void 0;\n          if (_this3.form._id) {\n            promise = _resources.poll.update({ _id: _this3.form._id }, _this3.form);\n          } else {\n            promise = _resources.poll.save({}, {\n              name: _this3.form.name,\n              author: _this3.username,\n              options: _this3.form.options\n            });\n          }\n          promise.then(function () {\n            _this3.cancelForm();\n            _this3.$message({\n              type: 'success',\n              message: _this3.form._id ? _this3.$t('message.updated') : _this3.$t('message.created')\n            });\n            _this3.fetch();\n          }).catch(function () {});\n        }\n      });\n    },\n    addOption: function addOption() {\n      this.form.options.push({ option: '', votes: [] });\n    },\n    removeOption: function removeOption(option) {\n      var index = this.form.options.indexOf(option);\n      if (index !== -1) {\n        this.form.options.splice(index, 1);\n      }\n    }\n  },\n  created: function created() {\n    this.fetch();\n  }\n};\n\n/***/ }),\n\n/***/ 376:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(329)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".head[data-v-0b353a4a]{background-color:#20a0ff;border:1px solid #d1dbe5;border-radius:4px;color:#fff;font-size:40px;text-align:center;padding:10px}\", \"\", {\"version\":3,\"sources\":[\"C:/Users/brenn/WebstormProjects/brennan-vue/client/src/view/MyPolls.vue\"],\"names\":[],\"mappings\":\"AACA,uBACE,yBAA0B,AAC1B,yBAA0B,AAC1B,kBAAmB,AACnB,WAAY,AACZ,eAAgB,AAChB,kBAAmB,AACnB,YAAmB,CACpB\",\"file\":\"MyPolls.vue\",\"sourcesContent\":[\"\\n.head[data-v-0b353a4a] {\\n  background-color: #20a0ff;\\n  border: 1px solid #d1dbe5;\\n  border-radius: 4px;\\n  color: #fff;\\n  font-size: 40px;\\n  text-align: center;\\n  padding: 10px 10px;\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 386:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(376);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(330)(\"46f61df6\", content, true);\n\n/***/ }),\n\n/***/ 402:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('content-module', {\n    attrs: {\n      \"name\": \"my-polls\"\n    }\n  }, [_c('div', {\n    staticClass: \"head\"\n  }, [_c('el-row', [_c('el-col', {\n    attrs: {\n      \"span\": 24\n    }\n  }, [_vm._v(\"\\n        \" + _vm._s(_vm.username) + \"\\n      \")])], 1)], 1), _vm._v(\" \"), _c('div', _vm._l((this.polls), function(poll, index) {\n    return _c('poll-results', {\n      key: index,\n      attrs: {\n        \"poll\": poll,\n        \"editPoll\": _vm.editPoll,\n        \"deletePoll\": _vm.deletePoll\n      }\n    })\n  })), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": _vm.$t('polls.edit.update')\n    },\n    model: {\n      value: (_vm.formVisible),\n      callback: function($$v) {\n        _vm.formVisible = $$v\n      },\n      expression: \"formVisible\"\n    }\n  }, [_c('el-form', {\n    ref: \"poll\",\n    attrs: {\n      \"model\": _vm.form,\n      \"rules\": _vm.rules\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": _vm.$t('polls.model.name'),\n      \"prop\": \"name\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.form.name),\n      callback: function($$v) {\n        _vm.form.name = $$v\n      },\n      expression: \"form.name\"\n    }\n  })], 1), _vm._v(\" \"), _vm._l((_vm.form.options), function(option, index) {\n    return _c('el-form-item', {\n      key: option._id,\n      attrs: {\n        \"rules\": {\n          required: true,\n          message: 'Option cannot be null',\n          trigger: 'blur'\n        }\n      }\n    }, [_c('el-input', {\n      model: {\n        value: (option.option),\n        callback: function($$v) {\n          option.option = $$v\n        },\n        expression: \"option.option\"\n      }\n    }, [_c('el-button', {\n      attrs: {\n        \"size\": \"mini\",\n        \"icon\": \"delete\"\n      },\n      on: {\n        \"click\": function($event) {\n          $event.preventDefault();\n          _vm.removeOption(option)\n        }\n      },\n      slot: \"append\"\n    })], 1)], 1)\n  }), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"size\": \"mini\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.addOption($event)\n      }\n    }\n  }, [_vm._v(_vm._s(_vm.$t('polls.edit.addOption')))])], 2), _vm._v(\" \"), _c('span', {\n    staticClass: \"dialog-footer\",\n    slot: \"footer\"\n  }, [_c('el-button-group', [_c('el-button', {\n    attrs: {\n      \"size\": \"mini\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.cancelForm($event)\n      }\n    }\n  }, [_vm._v(_vm._s(_vm.$t('confirm.cancel')))]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"size\": \"mini\",\n      \"type\": \"primary\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.saveForm($event)\n      }\n    }\n  }, [_vm._v(_vm._s(_vm.$t('confirm.ok')))])], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/2.e60da80d7f82e35452a9.js","\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-0b353a4a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MyPolls.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MyPolls.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0b353a4a\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./MyPolls.vue\"),\n  /* scopeId */\n  \"data-v-0b353a4a\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./client/src/view/MyPolls.vue\n// module id = 333\n// module chunks = 2","export default {\n  polls: {\n    breadcrumb: {\n      home: 'Home',\n      current: 'Polls'\n    },\n    model: {\n      name: 'Title'\n    },\n    rules: {\n      name: 'Please input a name for your poll',\n      author: 'Please input a name for yourself',\n      options: 'Please select an option'\n    },\n    edit: {\n      create: 'Add Poll',\n      update: 'Change Poll',\n      addOption: 'add an option'\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/locales/polls/en.js","import en from './en'\nimport zhCN from './zh-CN'\n\nexport default {\n  'zh-CN': zhCN,\n  en\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/locales/polls/index.js","export default {\r\n  thing: {\r\n    breadcrumb: {\r\n      home: '首页',\r\n      current: '事件管理'\r\n    },\r\n    model: {\r\n      name: '名字',\r\n      description: '描述'\r\n    },\r\n    rules: {\r\n      name: '请输入名称'\r\n    },\r\n    edit: {\r\n      create: '新增事件',\r\n      update: '编辑事件'\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/locales/polls/zh-CN.js","<template>\n  <div>\n    <el-row>\n      <el-col :xs=\"24\" :sm=\"24\" :md=\"{span: 12, offset: 6}\" :lg=\"{span: 12, offset: 6}\">\n        <el-card :class=\"{ownPoll: isOwner(poll)}\" class=\"box-card\">\n          <div slot=\"header\" class=\"clearfix\">\n            <el-row>\n              <el-col :span=\"22\" :offset=\"1\">\n                <el-button class=\"header\" type=\"text\" @click=\"$router.push('/polls/' + poll._id)\">{{poll.name}}</el-button>\n                <i v-if=\"deletePoll !== undefined && isOwner(poll) || userRole === 'admin'\" class=\"el-icon-delete icon\" @click=\"deletePoll(poll)\"></i>\n                <i v-if=\"editPoll !== undefined && isOwner(poll) || userRole === 'admin'\" class=\"el-icon-edit icon\" @click=\"editPoll(poll)\"></i>\n              </el-col>\n            </el-row>\n          </div>\n          <div class=\"body\">\n            <div class=\"options\" v-for=\"option in poll.options\">\n              <el-row>\n                <el-col :span=22 :offset=1>\n                  {{option.option}} - {{option.votes.length}} Votes <i v-if=\"hasVotedFor(option)\" class=\"el-icon-circle-check\"></i>\n                </el-col>\n              </el-row>\n              <el-row>\n                <el-col :span=20 :offset=1>\n                  <el-progress v-if=\"hasVotedFor(option)\" class=\"progress\" :show-text=\"false\" :stroke-width=\"20\" :percentage=\"percentage(option, poll)\" status=\"success\"></el-progress>\n                  <el-progress v-else class=\"progress\" :show-text=\"false\" :stroke-width=\"20\" :percentage=\"percentage(option, poll)\"></el-progress>\n                </el-col>\n                <el-col :span=1 :offset=1>\n                  {{' ' + percentage(option, poll) + '%'}}\n                </el-col>\n              </el-row>\n            </div>\n            <el-row>\n              <el-col v-if=\"addOption\" :span=\"22\" :offset=\"1\">\n                <el-button class=\"bottom-button\" size=\"small\" @click=\"addOption\">Add an Option</el-button>\n              </el-col>\n              <el-col class=\"footer\" :span=22 :offset=1>\n                {{poll.totalVotes || 0}} Total Votes\n                <h3>Poll by {{poll.author}}</h3>\n              </el-col>\n            </el-row>\n          </div>\n          <el-row>\n            <el-col :span=22 :offset=1>\n              <slot>\n                <el-button v-if=\"hasVoted\" size=\"small\" type=\"primary\" disabled>Vote</el-button>\n                <el-button v-else size=\"small\" @click=\"$router.push('/polls/' + poll._id)\" type=\"primary\">Vote</el-button>\n              </slot>\n            </el-col>\n          </el-row>\n        </el-card>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n<script>\n  import { mapGetters } from 'vuex'\n  export default {\n    computed: {\n      ...mapGetters([\n        'username',\n        'userRole',\n        'loggedIn'\n      ])\n    },\n    data: function () {\n      return {\n        hasVoted: false\n      }\n    },\n    methods: {\n      isOwner (poll) {\n        return poll.author === this.username\n      },\n      hasVotedFor (option) {\n        if (option.votes.indexOf(this.username) > -1 && this.loggedIn) {\n          this.hasVoted = true\n          return true\n        }\n      },\n      percentage (option, poll) {\n        if (poll.totalVotes) {\n          const percent = (option.votes.length / poll.totalVotes * 100)\n          return Number(percent.toFixed(0))\n        } else return 0\n      }\n    },\n    props: ['poll', 'editPoll', 'deletePoll', 'addOption']\n  }\n</script>\n<style lang=\"stylus\" scoped>\n  @import \"../assets/css/variable\"\n  .item\n    padding: 5px 0\n  .box-card\n    min-height 27em\n    margin 1rem\n    .icon\n      float right\n      margin-left .5rem\n      cursor pointer\n      font-size 16px\n      color #0cb4e8\n      &:hover\n        color $color-primary\n    .header\n      color #0cb4e8\n      float left\n  .ownPoll\n    border 2px solid #13ce66\n  .bottom-button\n    margin 1rem\n</style>\n\n\n\n// WEBPACK FOOTER //\n// PollResults.vue?32ee1e8e","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".item[data-v-4939157b]{padding:5px 0}.box-card[data-v-4939157b]{min-height:27em;margin:1rem}.box-card .icon[data-v-4939157b]{float:right;margin-left:.5rem;cursor:pointer;font-size:16px;color:#0cb4e8}.box-card .icon[data-v-4939157b]:hover{color:#20a0ff}.box-card .header[data-v-4939157b]{color:#0cb4e8;float:left}.ownPoll[data-v-4939157b]{border:2px solid #13ce66}.bottom-button[data-v-4939157b]{margin:1rem}\", \"\", {\"version\":3,\"sources\":[\"C:/Users/brenn/WebstormProjects/brennan-vue/client/src/components/PollResults.vue\"],\"names\":[],\"mappings\":\"AACA,uBACE,aAAe,CAChB,AACD,2BACE,gBAAiB,AACjB,WAAa,CACd,AACD,iCACE,YAAa,AACb,kBAAoB,AACpB,eAAgB,AAChB,eAAgB,AAChB,aAAe,CAChB,AACD,uCACE,aAAe,CAChB,AACD,mCACE,cAAe,AACf,UAAY,CACb,AACD,0BACE,wBAA0B,CAC3B,AACD,gCACE,WAAa,CACd\",\"file\":\"PollResults.vue\",\"sourcesContent\":[\"\\n.item[data-v-4939157b] {\\n  padding: 5px 0;\\n}\\n.box-card[data-v-4939157b] {\\n  min-height: 27em;\\n  margin: 1rem;\\n}\\n.box-card .icon[data-v-4939157b] {\\n  float: right;\\n  margin-left: 0.5rem;\\n  cursor: pointer;\\n  font-size: 16px;\\n  color: #0cb4e8;\\n}\\n.box-card .icon[data-v-4939157b]:hover {\\n  color: #20a0ff;\\n}\\n.box-card .header[data-v-4939157b] {\\n  color: #0cb4e8;\\n  float: left;\\n}\\n.ownPoll[data-v-4939157b] {\\n  border: 2px solid #13ce66;\\n}\\n.bottom-button[data-v-4939157b] {\\n  margin: 1rem;\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-4939157b\",\"scoped\":true,\"hasInlineConfig\":true}!./~/stylus-loader?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./client/src/components/PollResults.vue\n// module id = 343\n// module chunks = 0 2 3","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-4939157b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../../node_modules/stylus-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./PollResults.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"78e242b2\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-4939157b\",\"scoped\":true,\"hasInlineConfig\":true}!./~/stylus-loader?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./client/src/components/PollResults.vue\n// module id = 344\n// module chunks = 0 2 3","\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-4939157b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./PollResults.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./PollResults.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4939157b\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./PollResults.vue\"),\n  /* scopeId */\n  \"data-v-4939157b\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./client/src/components/PollResults.vue\n// module id = 345\n// module chunks = 0 2 3","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('el-row', [_c('el-col', {\n    attrs: {\n      \"xs\": 24,\n      \"sm\": 24,\n      \"md\": {\n        span: 12,\n        offset: 6\n      },\n      \"lg\": {\n        span: 12,\n        offset: 6\n      }\n    }\n  }, [_c('el-card', {\n    staticClass: \"box-card\",\n    class: {\n      ownPoll: _vm.isOwner(_vm.poll)\n    }\n  }, [_c('div', {\n    staticClass: \"clearfix\",\n    slot: \"header\"\n  }, [_c('el-row', [_c('el-col', {\n    attrs: {\n      \"span\": 22,\n      \"offset\": 1\n    }\n  }, [_c('el-button', {\n    staticClass: \"header\",\n    attrs: {\n      \"type\": \"text\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.$router.push('/polls/' + _vm.poll._id)\n      }\n    }\n  }, [_vm._v(_vm._s(_vm.poll.name))]), _vm._v(\" \"), (_vm.deletePoll !== undefined && _vm.isOwner(_vm.poll) || _vm.userRole === 'admin') ? _c('i', {\n    staticClass: \"el-icon-delete icon\",\n    on: {\n      \"click\": function($event) {\n        _vm.deletePoll(_vm.poll)\n      }\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.editPoll !== undefined && _vm.isOwner(_vm.poll) || _vm.userRole === 'admin') ? _c('i', {\n    staticClass: \"el-icon-edit icon\",\n    on: {\n      \"click\": function($event) {\n        _vm.editPoll(_vm.poll)\n      }\n    }\n  }) : _vm._e()], 1)], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"body\"\n  }, [_vm._l((_vm.poll.options), function(option) {\n    return _c('div', {\n      staticClass: \"options\"\n    }, [_c('el-row', [_c('el-col', {\n      attrs: {\n        \"span\": 22,\n        \"offset\": 1\n      }\n    }, [_vm._v(\"\\n                \" + _vm._s(option.option) + \" - \" + _vm._s(option.votes.length) + \" Votes \"), (_vm.hasVotedFor(option)) ? _c('i', {\n      staticClass: \"el-icon-circle-check\"\n    }) : _vm._e()])], 1), _vm._v(\" \"), _c('el-row', [_c('el-col', {\n      attrs: {\n        \"span\": 20,\n        \"offset\": 1\n      }\n    }, [(_vm.hasVotedFor(option)) ? _c('el-progress', {\n      staticClass: \"progress\",\n      attrs: {\n        \"show-text\": false,\n        \"stroke-width\": 20,\n        \"percentage\": _vm.percentage(option, _vm.poll),\n        \"status\": \"success\"\n      }\n    }) : _c('el-progress', {\n      staticClass: \"progress\",\n      attrs: {\n        \"show-text\": false,\n        \"stroke-width\": 20,\n        \"percentage\": _vm.percentage(option, _vm.poll)\n      }\n    })], 1), _vm._v(\" \"), _c('el-col', {\n      attrs: {\n        \"span\": 1,\n        \"offset\": 1\n      }\n    }, [_vm._v(\"\\n                \" + _vm._s(' ' + _vm.percentage(option, _vm.poll) + '%') + \"\\n              \")])], 1)], 1)\n  }), _vm._v(\" \"), _c('el-row', [(_vm.addOption) ? _c('el-col', {\n    attrs: {\n      \"span\": 22,\n      \"offset\": 1\n    }\n  }, [_c('el-button', {\n    staticClass: \"bottom-button\",\n    attrs: {\n      \"size\": \"small\"\n    },\n    on: {\n      \"click\": _vm.addOption\n    }\n  }, [_vm._v(\"Add an Option\")])], 1) : _vm._e(), _vm._v(\" \"), _c('el-col', {\n    staticClass: \"footer\",\n    attrs: {\n      \"span\": 22,\n      \"offset\": 1\n    }\n  }, [_vm._v(\"\\n              \" + _vm._s(_vm.poll.totalVotes || 0) + \" Total Votes\\n              \"), _c('h3', [_vm._v(\"Poll by \" + _vm._s(_vm.poll.author))])])], 1)], 2), _vm._v(\" \"), _c('el-row', [_c('el-col', {\n    attrs: {\n      \"span\": 22,\n      \"offset\": 1\n    }\n  }, [_vm._t(\"default\", [(_vm.hasVoted) ? _c('el-button', {\n    attrs: {\n      \"size\": \"small\",\n      \"type\": \"primary\",\n      \"disabled\": \"\"\n    }\n  }, [_vm._v(\"Vote\")]) : _c('el-button', {\n    attrs: {\n      \"size\": \"small\",\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.$router.push('/polls/' + _vm.poll._id)\n      }\n    }\n  }, [_vm._v(\"Vote\")])])], 2)], 1)], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-4939157b\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./client/src/components/PollResults.vue\n// module id = 346\n// module chunks = 0 2 3","<template>\n  <content-module name=\"my-polls\">\n    <div class=\"head\">\n      <el-row>\n        <el-col :span=\"24\">\n          {{username}}\n        </el-col>\n      </el-row>\n    </div>\n    <div>\n      <poll-results v-for=\"(poll, index) in this.polls\" :key=\"index\" :poll=\"poll\" :editPoll=\"editPoll\" :deletePoll=\"deletePoll\"></poll-results>\n    </div>\n    <!--Form to edit polls-->\n    <el-dialog :title=\"$t('polls.edit.update')\" v-model=\"formVisible\">\n      <el-form :model=\"form\" :rules=\"rules\" ref=\"poll\">\n        <el-form-item :label=\"$t('polls.model.name')\" prop=\"name\">\n          <el-input v-model=\"form.name\"></el-input>\n        </el-form-item>\n        <el-form-item\n          v-for=\"(option, index) in form.options\"\n          :key=\"option._id\"\n          :rules=\"{\n          \trequired: true, message: 'Option cannot be null', trigger: 'blur'\n          }\"\n        >\n          <el-input v-model=\"option.option\">\n            <el-button size=\"mini\" icon=\"delete\" slot=\"append\" @click.prevent=\"removeOption(option)\"></el-button>\n          </el-input>\n        </el-form-item>\n        <el-button size=\"mini\" @click.native=\"addOption\">{{$t('polls.edit.addOption')}}</el-button>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button-group>\n          <el-button size=\"mini\" @click.native=\"cancelForm\">{{$t('confirm.cancel')}}</el-button>\n          <el-button size=\"mini\" type=\"primary\" @click.native=\"saveForm\">{{$t('confirm.ok')}}</el-button>\n        </el-button-group>\n      </span>\n    </el-dialog>\n  </content-module>\n</template>\n<script>\n  import { mapGetters } from 'vuex'\n  import { poll as pollRes } from 'resources'\n  import locales from 'locales/polls'\n  import PollResults from 'components/PollResults'\n  export default {\n    locales,\n    data: function () {\n      return {\n        polls: [],\n        formVisible: false,\n        form: {\n          name: '',\n          options: [{ option: '', votes: [] }, { option: '', votes: [] }]\n        },\n        rules: {\n          name: [{ required: true, message: this.$t('polls.rules.name'), trigger: 'blur' }],\n          options: [{ type: 'array', required: true, message: this.$t('polls.rules.options'), trigger: 'change' }]\n        }\n      }\n    },\n    components: {\n      PollResults\n    },\n    computed: {\n      ...mapGetters(['username'])\n    },\n    methods: {\n      fetch () {\n        pollRes.query({}, [this.username]).then(response => {\n          response.json().then(response => {\n            this.polls = response.results.filter((poll) => {\n              return poll.author === this.username\n            })\n          })\n        })\n      },\n      editPoll (poll) {\n        Object.assign(this.form, poll)\n        this.formVisible = true\n      },\n      deletePoll (poll) {\n        this.$confirm(`This action will remove the selected poll: ${poll.name} Do you still want to continue?`, this.$t('confirm.title'), {\n          type: 'warning'\n        }).then(() => {\n          pollRes.delete({ _id: poll._id }).then(() => {\n            this.$message({\n              type: 'success',\n              message: this.$t('message.removed')\n            })\n            this.fetch()\n          })\n        }).catch(() => {\n        })\n      },\n      cancelForm () {\n        this.form._id = undefined\n        this.form.name = ''\n        this.form.options = [{ option: '', votes: [] }, { option: '', votes: [] }]\n        this.formVisible = false\n      },\n      saveForm () {\n        this.$refs.poll.validate(valid => {\n          if (valid) {\n            let promise\n            if (this.form._id) {\n              promise = pollRes.update({ _id: this.form._id }, this.form)\n            } else {\n              promise = pollRes.save({}, {\n                name: this.form.name,\n                author: this.username,\n                options: this.form.options\n              })\n            }\n            promise.then(() => {\n              this.cancelForm()\n              this.$message({\n                type: 'success',\n                message: this.form._id ? this.$t('message.updated') : this.$t('message.created')\n              })\n              this.fetch()\n            }).catch(() => {\n            })\n          }\n        })\n      },\n      addOption () {\n        this.form.options.push({ option: '', votes: [] })\n      },\n      removeOption (option) {\n        const index = this.form.options.indexOf(option)\n        if (index !== -1) {\n          this.form.options.splice(index, 1)\n        }\n      }\n    },\n    created () {\n      this.fetch()\n    }\n  }\n</script>\n<style lang=\"stylus\" scoped>\n  @import \"../assets/css/variable\"\n  .head\n    background-color #20a0ff\n    border 1px solid #d1dbe5\n    border-radius 4px\n    color white\n    font-size 40px\n    text-align center\n    padding 10px 10px\n</style>\n\n\n\n// WEBPACK FOOTER //\n// MyPolls.vue?42c06a55","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".head[data-v-0b353a4a]{background-color:#20a0ff;border:1px solid #d1dbe5;border-radius:4px;color:#fff;font-size:40px;text-align:center;padding:10px}\", \"\", {\"version\":3,\"sources\":[\"C:/Users/brenn/WebstormProjects/brennan-vue/client/src/view/MyPolls.vue\"],\"names\":[],\"mappings\":\"AACA,uBACE,yBAA0B,AAC1B,yBAA0B,AAC1B,kBAAmB,AACnB,WAAY,AACZ,eAAgB,AAChB,kBAAmB,AACnB,YAAmB,CACpB\",\"file\":\"MyPolls.vue\",\"sourcesContent\":[\"\\n.head[data-v-0b353a4a] {\\n  background-color: #20a0ff;\\n  border: 1px solid #d1dbe5;\\n  border-radius: 4px;\\n  color: #fff;\\n  font-size: 40px;\\n  text-align: center;\\n  padding: 10px 10px;\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-0b353a4a\",\"scoped\":true,\"hasInlineConfig\":true}!./~/stylus-loader?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./client/src/view/MyPolls.vue\n// module id = 376\n// module chunks = 2","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-0b353a4a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../../node_modules/stylus-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./MyPolls.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"46f61df6\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-0b353a4a\",\"scoped\":true,\"hasInlineConfig\":true}!./~/stylus-loader?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./client/src/view/MyPolls.vue\n// module id = 386\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('content-module', {\n    attrs: {\n      \"name\": \"my-polls\"\n    }\n  }, [_c('div', {\n    staticClass: \"head\"\n  }, [_c('el-row', [_c('el-col', {\n    attrs: {\n      \"span\": 24\n    }\n  }, [_vm._v(\"\\n        \" + _vm._s(_vm.username) + \"\\n      \")])], 1)], 1), _vm._v(\" \"), _c('div', _vm._l((this.polls), function(poll, index) {\n    return _c('poll-results', {\n      key: index,\n      attrs: {\n        \"poll\": poll,\n        \"editPoll\": _vm.editPoll,\n        \"deletePoll\": _vm.deletePoll\n      }\n    })\n  })), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": _vm.$t('polls.edit.update')\n    },\n    model: {\n      value: (_vm.formVisible),\n      callback: function($$v) {\n        _vm.formVisible = $$v\n      },\n      expression: \"formVisible\"\n    }\n  }, [_c('el-form', {\n    ref: \"poll\",\n    attrs: {\n      \"model\": _vm.form,\n      \"rules\": _vm.rules\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": _vm.$t('polls.model.name'),\n      \"prop\": \"name\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.form.name),\n      callback: function($$v) {\n        _vm.form.name = $$v\n      },\n      expression: \"form.name\"\n    }\n  })], 1), _vm._v(\" \"), _vm._l((_vm.form.options), function(option, index) {\n    return _c('el-form-item', {\n      key: option._id,\n      attrs: {\n        \"rules\": {\n          required: true,\n          message: 'Option cannot be null',\n          trigger: 'blur'\n        }\n      }\n    }, [_c('el-input', {\n      model: {\n        value: (option.option),\n        callback: function($$v) {\n          option.option = $$v\n        },\n        expression: \"option.option\"\n      }\n    }, [_c('el-button', {\n      attrs: {\n        \"size\": \"mini\",\n        \"icon\": \"delete\"\n      },\n      on: {\n        \"click\": function($event) {\n          $event.preventDefault();\n          _vm.removeOption(option)\n        }\n      },\n      slot: \"append\"\n    })], 1)], 1)\n  }), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"size\": \"mini\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.addOption($event)\n      }\n    }\n  }, [_vm._v(_vm._s(_vm.$t('polls.edit.addOption')))])], 2), _vm._v(\" \"), _c('span', {\n    staticClass: \"dialog-footer\",\n    slot: \"footer\"\n  }, [_c('el-button-group', [_c('el-button', {\n    attrs: {\n      \"size\": \"mini\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.cancelForm($event)\n      }\n    }\n  }, [_vm._v(_vm._s(_vm.$t('confirm.cancel')))]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"size\": \"mini\",\n      \"type\": \"primary\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.saveForm($event)\n      }\n    }\n  }, [_vm._v(_vm._s(_vm.$t('confirm.ok')))])], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-0b353a4a\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./client/src/view/MyPolls.vue\n// module id = 402\n// module chunks = 2"],"sourceRoot":""}